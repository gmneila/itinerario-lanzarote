<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Itinerario Lanzarote - Mapa Interactivo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            margin: 10px 0 0 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .controls {
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }
        
        .day-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        .day-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            background: #e9ecef;
            color: #495057;
        }
        
        .day-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .day-btn.active {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        /* Colores de los botones */
        .day-1.active { background: #ff7675; }
        .day-2.active { background: #74b9ff; }
        .day-3.active { background: #fd79a8; }
        .day-4.active { background: #55efc4; }
        .day-5.active { background: #ffeaa7; color: #2d3436 !important; }
        .day-6.active { background: #a29bfe; }
        
        #map {
            height: 600px;
            width: 100%;
        }
        
        .info-panel {
            padding: 20px;
            background: #f8f9fa;
        }
        
        .day-info {
            display: none;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .day-info.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .day-info h3 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            border-bottom: 2px solid;
            padding-bottom: 5px;
        }
        
        #info-1 h3 { border-color: #ff7675; }
        #info-2 h3 { border-color: #74b9ff; }
        #info-3 h3 { border-color: #fd79a8; }
        #info-4 h3 { border-color: #55efc4; }
        #info-5 h3 { border-color: #ffeaa7; }
        #info-6 h3 { border-color: #a29bfe; }
        
        .location-list {
            list-style: none;
            padding: 0;
        }
        
        .location-list li {
            padding: 10px 5px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.05em;
        }
        
        .location-list li:last-child {
            border-bottom: none;
        }
        
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸï¸ BP y Llermo en Lanzarote âœ¨</h1>
            <p>3 al 8 de Octubre</p>
        </div>
        
        <div class="controls">
            <div class="day-buttons">
                <button class="day-btn day-1" onclick="showDay(1)">DÃ­a 1: Llegada âœˆï¸</button>
                <button class="day-btn day-2" onclick="showDay(2)">DÃ­a 2: Joyas del Sur ğŸ–ï¸</button>
                <button class="day-btn day-3" onclick="showDay(3)">DÃ­a 3: Volcanes y Vino ğŸ”¥</button>
                <button class="day-btn day-4" onclick="showDay(4)">DÃ­a 4: La Graciosa ğŸï¸</button>
                <button class="day-btn day-5" onclick="showDay(5)">DÃ­a 5: Arte del Norte ğŸ¨</button>
                <button class="day-btn day-6" onclick="showDay(6)">DÃ­a 6: Despedida ğŸ‘‹</button>
            </div>
        </div>
        
        <div id="map"></div>
        
        <div class="info-panel">
            <div class="day-info" id="info-1">
                <h3>ğŸŒ™ DÃ­a 1: Â¡Llegada y Noche en Playa Blanca!</h3>
                <ul class="location-list">
                    <li>âœˆï¸ Aterrizaje en Aeropuerto de Lanzarote (ACE)</li>
                    <li>ğŸš— Recogida del coche y viaje a Playa Blanca</li>
                    <li>ğŸ¨ Check-in en Calle La Fragata 20 y a descansar</li>
                </ul>
            </div>
            
            <div class="day-info" id="info-2">
                <h3>ğŸ–ï¸ğŸŒ‹ DÃ­a 2: Joyas del Sur: Â¡Playas y Paisajes de Otro Mundo!</h3>
                <ul class="location-list">
                    <li>âœ¨ Playas del Papagayo</li>
                    <li>ğŸ’¦ Playa Blanca (la cÃ©ntrica)</li>
                    <li>ğŸŒŠ Piscinas Naturales de Los Charcones</li>
                    <li>âš«ğŸŸ¢ El Golfo y Charco de los Clicos (Lago Verde)</li>
                    <li>ğŸŒŠ Los Hervideros</li>
                    <li>ğŸ“¸ Salinas de Janubio</li>
                    <li>ğŸŸ Cena en El Golfo o Playa Blanca</li>
                </ul>
            </div>
            
            <div class="day-info" id="info-3">
                <h3>ğŸ”¥ğŸ· DÃ­a 3: Â¡El CorazÃ³n VolcÃ¡nico, Cultura y Vinos!</h3>
                <ul class="location-list">
                    <li>ğŸ”¥ MontaÃ±as del Fuego (Parque Nacional de Timanfaya)</li>
                    <li>ğŸ˜ï¸ğŸ‘©â€ğŸŒ¾ Monumento y Casa-Museo del Campesino</li>
                    <li>ğŸŒµğŸŒ¸ JardÃ­n de Cactus</li>
                    <li>ğŸ· Bodega en La Geria (Cata de Vinos)</li>
                </ul>
            </div>

            <div class="day-info" id="info-4">
                 <h3>ğŸ›¥ï¸ğŸï¸ DÃ­a 4: Â¡La Graciosa: ParaÃ­so en E-Bike!</h3>
                <ul class="location-list">
                    <li>ğŸš—ğŸ’¨ Viaje en coche a Ã“rzola</li>
                    <li>ğŸ›¥ï¸ Ferry a La Graciosa (Caleta del Sebo)</li>
                    <li>ğŸš² Alquiler de E-Bikes e inicio de rutas</li>
                    <li>ğŸï¸ <strong>Ruta Sur:</strong> Playa Francesa y Playa de la Cocina</li>
                    <li>ğŸ½ï¸ Almuerzo en Caleta del Sebo</li>
                    <li>ğŸï¸ <strong>Ruta Norte:</strong> Playa de Las Conchas</li>
                    <li>ğŸ›¥ï¸ Regreso en Ferry a Ã“rzola y vuelta a Playa Blanca</li>
                </ul>
            </div>
            
            <div class="day-info" id="info-5">
                <h3>ğŸ¨ğŸ™ï¸ DÃ­a 5: El Genio de Manrique en el Norte y Capital</h3>
                <ul class="location-list">
                    <li>ğŸ”¦ Cueva de los Verdes</li>
                    <li>ğŸ¦€ Jameos del Agua</li>
                    <li>ğŸ”­ Mirador del RÃ­o</li>
                    <li>ğŸŠâ€â™€ï¸ Piscinas naturales de Punta Mujeres</li>
                    <li>ğŸŒ¬ï¸ğŸ“¸ Parada en Playa de Famara</li>
                    <li>â›µ Paseo por Arrecife (Charco de San GinÃ©s)</li>
                </ul>
            </div>
            
            <div class="day-info" id="info-6">
                <h3>ğŸ‘‹â˜€ï¸ DÃ­a 6: Â¡Despedida de Lanzarote!</h3>
                <ul class="location-list">
                    <li>ğŸš¶â€â™€ï¸ğŸŒ´ Ãšltimo paseo/baÃ±o en Playa Blanca</li>
                    <li>ğŸ” Almuerzo cerca del aeropuerto (Playa Honda)</li>
                    <li>ğŸ›« DevoluciÃ³n del coche y vuelo de regreso (16:25h)</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <script>
        const map = L.map('map').setView([29.0469, -13.5904], 9.5);
        
        L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
            attribution: 'Â© OpenStreetMap contributors, Â© CARTO'
        }).addTo(map);

        const locations = {
            // Generales
            aeropuerto: [28.952, -13.608],
            alojamiento: [28.8615, -13.8291],
            
            // DÃ­a 2
            papagayo: [28.8415, -13.7885],
            playa_blanca_centro: [28.861, -13.828],
            charcones: [28.878, -13.844],
            el_golfo: [28.976, -13.832],
            hervideros: [28.950, -13.821],
            salinas_janubio: [28.928, -13.818],
            
            // DÃ­a 3
            timanfaya: [29.006, -13.753],
            monumento_campesino: [29.030, -13.626],
            jardin_cactus: [29.076, -13.480],
            bodega_la_geria: [28.991, -13.689],

            // DÃ­a 4
            orzola: [29.222035167133843, -13.450325784074465],
            caleta_sebo: [29.23093006458582, -13.50255534989619],
            playa_francesa: [29.221862090449655, -13.530405440182516],
            playa_cocina: [29.220908993487743, -13.543866552088497],
            playa_las_conchas: [29.275700423650267, -13.515110479104552],

            // DÃ­a 5
            cueva_verdes: [29.161, -13.439],
            jameos_agua: [29.155, -13.432],
            mirador_rio: [29.215, -13.481],
            punta_mujeres: [29.141, -13.455],
            famara: [29.117, -13.551],
            charco_san_gines: [28.962, -13.548],

            // DÃ­a 6
            playa_honda: [28.948, -13.585]
        };

        // --- Rutas Trazadas Manualmente para La Graciosa ---
        const rutaGraciosaSur = [
            locations.caleta_sebo,
            [29.228, -13.510],
            [29.225, -13.520],
            locations.playa_francesa,
            [29.221, -13.537],
            locations.playa_cocina
        ];

        const rutaGraciosaNorte = [
            locations.caleta_sebo,
            [29.240, -13.505],
            [29.250, -13.508],
            [29.265, -13.512],
            locations.playa_las_conchas
        ];


        const dayRoutes = {
            1: {
                color: '#ff7675',
                locations: ['aeropuerto', 'alojamiento'],
                markers: [
                    {coord: locations.aeropuerto, name: 'âœˆï¸ Aeropuerto de Lanzarote (ACE)'},
                    {coord: locations.alojamiento, name: 'ğŸ¨ Alojamiento: Calle La Fragata'}
                ]
            },
            2: {
                color: '#74b9ff',
                locations: ['alojamiento', 'papagayo', 'charcones', 'el_golfo', 'hervideros', 'salinas_janubio', 'alojamiento'],
                markers: [
                    {coord: locations.papagayo, name: 'âœ¨ Playas del Papagayo'},
                    {coord: locations.playa_blanca_centro, name: 'ğŸ’¦ Playa Blanca (CÃ©ntrica)'},
                    {coord: locations.charcones, name: 'ğŸŒŠ Piscinas Naturales Los Charcones'},
                    {coord: locations.el_golfo, name: 'âš«ğŸŸ¢ El Golfo y Charco de los Clicos'},
                    {coord: locations.hervideros, name: 'ğŸŒŠ Los Hervideros'},
                    {coord: locations.salinas_janubio, name: 'ğŸ“¸ Salinas de Janubio'}
                ]
            },
            3: {
                color: '#fd79a8',
                locations: ['alojamiento', 'timanfaya', 'monumento_campesino', 'bodega_la_geria', 'jardin_cactus', 'alojamiento'],
                markers: [
                    {coord: locations.timanfaya, name: 'ğŸ”¥ Parque Nacional de Timanfaya'},
                    {coord: locations.monumento_campesino, name: 'ğŸ˜ï¸ğŸ‘©â€ğŸŒ¾ Monumento al Campesino'},
                    {coord: locations.jardin_cactus, name: 'ğŸŒµğŸŒ¸ JardÃ­n de Cactus'},
                    {coord: locations.bodega_la_geria, name: 'ğŸ· Bodega La Geria'}
                ]
            },
            4: { 
                routes: [
                    { 
                        coords: [locations.alojamiento, locations.orzola],
                        style: { color: '#81ecec', weight: 4, opacity: 0.8, dashArray: '10, 10' }
                    },
                    { 
                        coords: rutaGraciosaSur,
                        style: { color: '#55efc4', weight: 4, opacity: 0.9, dashArray: '5, 5' }
                    },
                    { 
                        coords: rutaGraciosaNorte,
                        style: { color: '#00b894', weight: 4, opacity: 0.9, dashArray: '5, 5' }
                    }
                ],
                markers: [
                    {coord: locations.orzola, name: 'â›´ï¸ Ferry desde Ã“rzola'},
                    {coord: locations.caleta_sebo, name: 'ğŸ›¥ï¸ Caleta del Sebo (Base E-bikes)'},
                    {coord: locations.playa_francesa, name: 'ğŸ–ï¸ Playa Francesa'},
                    {coord: locations.playa_cocina, name: 'ğŸŒ… Playa de la Cocina'},
                    {coord: locations.playa_las_conchas, name: 'ğŸš Playa de Las Conchas'}
                ]
            },
            5: {
                color: '#ffeaa7',
                locations: ['alojamiento', 'cueva_verdes', 'jameos_agua', 'mirador_rio', 'punta_mujeres', 'famara', 'charco_san_gines', 'alojamiento'],
                markers: [
                    {coord: locations.cueva_verdes, name: 'ğŸ”¦ Cueva de los Verdes'},
                    {coord: locations.jameos_agua, name: 'ğŸ¦€ Jameos del Agua'},
                    {coord: locations.mirador_rio, name: 'ğŸ”­ Mirador del RÃ­o'},
                    {coord: locations.punta_mujeres, name: 'ğŸŠâ€â™€ï¸ Punta Mujeres'},
                    {coord: locations.famara, name: 'ğŸŒ¬ï¸ğŸ“¸ Playa de Famara'},
                    {coord: locations.charco_san_gines, name: 'â›µ Charco de San GinÃ©s, Arrecife'}
                ]
            },
            6: {
                color: '#a29bfe',
                locations: ['alojamiento', 'playa_honda', 'aeropuerto'],
                markers: [
                    {coord: locations.alojamiento, name: 'ğŸš¶â€â™€ï¸ğŸŒ´ Despedida de Playa Blanca'},
                    {coord: locations.playa_honda, name: 'ğŸ” Almuerzo en Playa Honda'},
                    {coord: locations.aeropuerto, name: 'ğŸ›« Vuelo de Regreso'}
                ]
            }
        };

        let currentRouteLayer = null;
        let currentMarkersLayer = null;

        function showDay(day) {
            document.querySelectorAll('.day-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector(`.day-${day}`).classList.add('active');

            document.querySelectorAll('.day-info').forEach(info => info.classList.remove('active'));
            document.getElementById(`info-${day}`).classList.add('active');

            if (currentRouteLayer) map.removeLayer(currentRouteLayer);
            if (currentMarkersLayer) map.removeLayer(currentMarkersLayer);

            const routeData = dayRoutes[day];
            if (!routeData) return;
            
            // --- Marcadores ---
            currentMarkersLayer = L.layerGroup();
            const markerIcon = (html) => L.divIcon({
                html: `<div style="font-size: 24px; text-shadow: 2px 2px 4px #00000080;">${html}</div>`,
                className: '',
                iconSize: [30, 30],
                iconAnchor: [15, 30]
            });
            
            routeData.markers.forEach(markerInfo => {
                const emoji = markerInfo.name.match(/(\p{Emoji_Presentation}|\p{Emoji})/gu)?.[0] || 'ğŸ“';
                L.marker(markerInfo.coord, { icon: markerIcon(emoji) })
                  .bindPopup(`<b>${markerInfo.name}</b>`)
                  .addTo(currentMarkersLayer);
            });
            currentMarkersLayer.addTo(map);

            // --- Rutas ---
            currentRouteLayer = L.layerGroup(); 
            
            if (routeData.routes) { // Estructura especial para el DÃ­a 4
                routeData.routes.forEach(route => {
                    L.polyline(route.coords, route.style).addTo(currentRouteLayer);
                });
            } else if (routeData.locations) { // Estructura simple para otros dÃ­as
                 const routeCoords = routeData.locations.map(loc => locations[loc]);
                 L.polyline(routeCoords, {
                    color: routeData.color,
                    weight: 4,
                    opacity: 0.7,
                    dashArray: '8, 8'
                }).addTo(currentRouteLayer);
            }
            currentRouteLayer.addTo(map);

            // --- Ajuste del mapa ---
            if (routeData.markers.length > 0) {
                // Crear bounds basados en las coordenadas de los marcadores
                const coords = routeData.markers.map(m => m.coord);
                const bounds = L.latLngBounds(coords);
                map.fitBounds(bounds.pad(0.1));
            }
        }
        
        // Marcador fijo del Alojamiento
        const hotelIcon = L.divIcon({
            html: '<div style="font-size: 32px; filter: drop-shadow(3px 3px 3px #00000080)">ğŸ </div>',
            className: '', iconSize: [35, 35], iconAnchor: [17, 35]
        });
        L.marker(locations.alojamiento, { icon: hotelIcon, zIndexOffset: 1000 })
          .bindPopup('<b>ğŸ¨ Tu Alojamiento</b><br>Calle La Fragata 20, Playa Blanca')
          .addTo(map);

        // Carga inicial
        showDay(1);
    </script>
</body>
</html>
